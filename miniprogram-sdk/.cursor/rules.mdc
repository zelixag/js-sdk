# Cursor 编辑器配置规则 (Cursor Rules)

## 🎯 基本原则
1. **优先使用 AI 助手**：尽量让 Cursor AI 生成代码，减少手动编写
2. **渐进式改进**：先让 AI 生成，再逐步优化完善
3. **明确上下文**：在对话中保持清晰的上下文，避免信息丢失
4. **结果导向**：关注代码是否能正常运行，而不只是看起来正确

## 📝 AI 交互规范

### 代码生成规范
```
✅ 好的提示词：
- "创建一个 React 登录表单组件，包含邮箱和密码字段，使用 TypeScript 和 Tailwind CSS"
- "为这个函数添加详细的 JSDoc 注释和错误处理"
- "优化这段代码的性能，减少重复渲染"

❌ 差的提示词：
- "写代码"（太模糊）
- "修复bug"（没有具体上下文）
- "让我看看"（不够明确）
```

### 多轮对话策略
```
用户：创建用户管理页面
助手：生成基础代码
用户：在表格中添加搜索功能
助手：在现有代码基础上添加搜索
用户：添加分页功能
助手：在现有基础上添加分页
```

## 🔧 Cursor 命令使用规则

### 常用命令快捷键
```
⌘ + K: 插入AI生成的代码
⌘ + L: 聊天模式
⌘ + I: 代码行内编辑
⌘ + ⇧ + K: 删除行并替换
⌘ + /: 解释选中的代码
```

### 代码编辑规范
1. **批量操作优先**：使用 ⌘ + K 生成完整函数，而非逐行编写
2. **重构前备份**：使用 Git 提交后再进行大规模重构
3. **测试驱动**：让 AI 先写测试，再实现功能

## 📁 项目配置规则

### .cursorrules 文件
```json
{
  "projectType": "react-typescript",
  "preferredStyle": "tailwind",
  "testFramework": "jest",
  "componentPattern": "atomic-design",
  "codeQuality": {
    "enforceTypes": true,
    "requireComments": true,
    "preferAsyncAwait": true
  },
  "aiPreferences": {
    "generateTests": true,
    "addComments": true,
    "explainChanges": true
  }
}
```

## 🚀 工作流规范

### 开发流程
1. **需求分析阶段**
   ```
   用户：描述功能需求
   AI：生成功能规格和伪代码
   ```

2. **实现阶段**
   ```
   用户：根据规格实现具体功能
   AI：生成完整组件/函数，添加注释
   ```

3. **优化阶段**
   ```
   用户：审查生成的代码
   AI：根据反馈进行优化重构
   ```

4. **测试阶段**
   ```
   用户：要求测试代码
   AI：生成单元测试和集成测试
   ```

### 代码审查规范
```markdown
## AI 生成的代码审查清单

### 功能性
- [ ] 代码是否满足需求？
- [ ] 是否有明显的逻辑错误？
- [ ] 边界条件是否处理？

### 质量
- [ ] 是否有类型错误？
- [ ] 是否有性能问题？
- [ ] 是否遵循了项目规范？

### 可维护性
- [ ] 是否有清晰的注释？
- [ ] 函数是否职责单一？
- [ ] 是否有重复代码？
```

## 💡 最佳实践

### 1. 上下文管理
```
✅ 好的做法：
- 在聊天中粘贴相关代码片段
- 提及具体的文件名和行号
- 保持对话的连贯性

❌ 避免：
- 突然切换话题
- 提供不完整的上下文
- 一次要求太多功能
```

### 2. 代码质量保证
```javascript
// ✅ 让 AI 生成高质量代码的提示词示例
"生成一个带有错误处理、类型定义和单元测试的 API 调用函数"

// ✅ 检查生成的代码
"这段代码有内存泄漏的风险吗？如何优化？"

// ✅ 请求代码解释
"解释一下这个 React hook 的工作原理"
```

### 3. 调试协助
```
当遇到错误时：
1. 将错误信息复制给 AI
2. 提供相关代码片段
3. 询问具体的解决方案

示例：
"这个 TypeError: Cannot read property 'map' of undefined 错误怎么修复？
相关代码：
const users = data.results;
return users.map(user => <div>{user.name}</div>);"
```

## 📊 性能优化指南

### 代码生成策略
```markdown
## 优化 AI 代码生成的技巧

### 1. 分步骤生成
不要：一次性生成完整应用
要：先生成框架，再逐步添加功能

### 2. 提供示例
不要：只描述需求
要：提供相似的代码示例作为参考

### 3. 限制范围
不要："优化整个项目"
要："优化这个组件的渲染性能"
```

### 常见优化模式
```javascript
// 优化前：一次性生成大量代码
// 用户：生成完整的电商网站

// 优化后：分模块生成
// 用户：首先生成商品列表组件
// AI：生成 ProductList.tsx
// 用户：现在添加购物车功能
// AI：在现有基础上添加 CartContext
```

## 🛡️ 安全与隐私

### 敏感信息处理
```markdown
## 代码生成安全准则

### 禁止行为
- ❌ 不要粘贴包含 API 密钥的代码
- ❌ 不要分享数据库连接字符串
- ❌ 不要包含用户个人数据

### 建议做法
- ✅ 使用环境变量占位符
- ✅ 分享前删除敏感信息
- ✅ 使用模拟数据进行开发
```

### 代码审查安全清单
```
- [ ] 是否硬编码了敏感信息？
- [ ] API 密钥是否从环境变量读取？
- [ ] 是否有 SQL 注入风险？
- [ ] 密码是否哈希处理？
```

## 🔍 调试与问题解决

### 常见问题处理流程
```markdown
1. 问题描述
   - 粘贴错误信息
   - 提供相关代码
   - 说明复现步骤

2. AI 协助调试
   - 询问可能的解决方案
   - 请求生成调试代码
   - 要求解释错误原因

3. 验证解决方案
   - 测试 AI 提供的修复
   - 确认问题解决
   - 记录解决方案
```

### 调试命令示例
```bash
# 使用 Cursor AI 进行调试
"为什么这段代码会报错？"
"如何添加调试日志来追踪问题？"
"生成一个修复这个 bug 的补丁"
```

## 📚 学习与提升

### 学习新技术的策略
```markdown
## 使用 Cursor 学习新技术

### 1. 基础知识学习
"解释一下 React Hooks 的基本概念"

### 2. 代码示例生成
"展示一个使用 useState 和 useEffect 的示例"

### 3. 实践项目
"基于这些概念创建一个简单的计数器应用"

### 4. 深入理解
"useEffect 的依赖数组如何影响性能？"
```

### 代码重构指导
```javascript
// 重构请求示例
"请将这段回调函数改为 async/await 格式"

// 重构组件示例
"将这个类组件重构为函数组件，使用 React Hooks"

// 性能重构
"优化这个组件，避免不必要的重新渲染"
```

---

## 📋 快速参考表

### AI 提示词模板
| 场景 | 模板 |
|------|------|
| 创建组件 | "创建一个 [组件名] 组件，使用 [技术栈]，包含 [功能]" |
| 修复错误 | "修复这个错误：[错误信息]，相关代码：[代码片段]" |
| 优化性能 | "优化这段代码的性能：[代码]，关注 [具体方面]" |
| 添加功能 | "在现有代码基础上添加 [功能]，代码位置：[文件路径]" |

### 常用快捷键
| 快捷键 | 功能 |
|--------|------|
| ⌘ + K | AI 代码生成 |
| ⌘ + L | 打开聊天 |
| ⌘ + I | 行内编辑 |
| ⌘ + ⇧ + K | 替换代码 |
| ⌘ + / | 解释代码 |

### 文件命名规范
| 文件类型 | 命名规范 |
|----------|----------|
| 组件文件 | PascalCase，如 UserProfile.tsx |
| 工具函数 | camelCase，如 formatDate.ts |
| 测试文件 | 原文件名.test.ts，如 UserProfile.test.tsx |
| 配置文件 | kebab-case，如 tailwind.config.js |

---